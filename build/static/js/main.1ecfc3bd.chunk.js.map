{"version":3,"sources":["routers/mainRouts.js","components/navigations/NavigationsLinks.js","components/appBar/AppBar.js","components/Layout.js","components/navigations/privatRoute/PrivateRoute.js","components/navigations/publicRoute/PublicRoute.js","components/errorMess/ErrorMess.js","components/App.js","redux/redusers/phBookRedusers.js","redux/redusers/authRedusers.js","redux/store.js","index.js","redux/actions/phBookActions.js","components/navigations/navigationsLinks.module.css","redux/selectors/authSelectors.js","servises/fatchToDB.js","redux/operations/authOperation.js","redux/actions/authActions.js","components/loader/Loader.js","components/loader/ModalLoader.js","components/layout.module.css","components/loader/Loader.module.css","components/loader/ModalLoader.module.css","components/errorMess/errorMess.module.css"],"names":["mainRoutes","path","name","exact","component","lazy","private","restricted","NavigationsLinks","isAuthenticated","useSelector","state","getIsAuthenticated","className","s","navList","map","route","navItem","to","navLink","activeClassName","activeNavLink","AppBar","Layout","children","wrapper","PrivateRoute","Component","routeProps","render","props","PublicRoute","ErrorMess","wornings","App","isError","getError","dispatch","useDispatch","location","useLocation","useEffect","refreshUser","fallback","ModalLoader","pathname","items","createReducer","addContactSuccess","action","payload","getContactsSuccess","removeContactSuccess","filter","item","id","setFilter","loading","signUpRequest","signUpSuccess","signUpError","addContactRequest","addContactError","getContactsRequest","getContactsError","removeContactRequest","removeContactError","contactsReusers","combineReducers","initialUserState","email","user","signInSuccess","refreshUserSuccess","logoutSuccess","token","error","signInError","logoutError","refreshUserError","authRedusers","authPersistConfig","key","storage","whitelist","rootReducer","auth","persistReducer","contacts","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","document","getElementById","createAction","module","exports","axios","defaults","baseURL","headers","common","Authorization","postSignUpUser","a","post","then","data","console","log","postSignInUser","postLogoutUser","getRefreshUser","persistedToken","get","postContacts","getContacts","removeContact","delete","signUpUser","catch","signInUser","signInRequest","logoutUser","logoautRequest","getState","refreshUserRequest","Loader","Styles","loader","type","color","height","width","modalLoader"],"mappings":"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","file":"static/js/main.1ecfc3bd.chunk.js","sourcesContent":["import { lazy } from \"react\";\r\n\r\nexport const mainRoutes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"Home\",\r\n    exact: true,\r\n    component: lazy(() => import(\"../pages/home/Home\")),\r\n    private: false,\r\n    restricted: false,\r\n  },\r\n  {\r\n    path: \"/register\",\r\n    name: \"Register\",\r\n    exact: true,\r\n    component: lazy(() => import(\"../pages/signUp/SignUp\")),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: \"/login\",\r\n    name: \"Login\",\r\n    exact: true,\r\n    component: lazy(() => import(\"../pages/signIn/SignIn\")),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: \"/contacts\",\r\n    name: \"Contacts\",\r\n    exact: true,\r\n    component: lazy(() => import(\"../pages/contacts/Contacts\")),\r\n    private: true,\r\n    restricted: true,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getIsAuthenticated } from \"../../redux/selectors/authSelectors\";\r\nimport { mainRoutes } from \"../../routers/mainRouts\";\r\nimport s from \"./navigationsLinks.module.css\";\r\n\r\nconst NavigationsLinks = () => {\r\n  const isAuthenticated = useSelector((state) => getIsAuthenticated(state));\r\n\r\n  return (\r\n    <ul className={s.navList}>\r\n      {isAuthenticated\r\n        ? mainRoutes.map((route) => {\r\n            if (route.private & route.restricted) {\r\n              return (\r\n                <li key={route.path} className={s.navItem}>\r\n                  <NavLink\r\n                    to={route.path}\r\n                    exact={route.exact}\r\n                    className={s.navLink}\r\n                    activeClassName={s.activeNavLink}\r\n                  >\r\n                    {route.name}\r\n                  </NavLink>\r\n                </li>\r\n              );\r\n            }\r\n            if (!route.private & !route.restricted) {\r\n              return (\r\n                <li key={route.path} className={s.navItem}>\r\n                  <NavLink\r\n                    to={route.path}\r\n                    exact={route.exact}\r\n                    className={s.navLink}\r\n                    activeClassName={s.activeNavLink}\r\n                  >\r\n                    {route.name}\r\n                  </NavLink>\r\n                </li>\r\n              );\r\n            }\r\n          })\r\n        : mainRoutes.map((route) => {\r\n            if (!route.private) {\r\n              return (\r\n                <li key={route.path} className={s.navItem}>\r\n                  <NavLink\r\n                    to={route.path}\r\n                    exact={route.exact}\r\n                    className={s.navLink}\r\n                    activeClassName={s.activeNavLink}\r\n                  >\r\n                    {route.name}\r\n                  </NavLink>\r\n                </li>\r\n              );\r\n            }\r\n          })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default NavigationsLinks;\r\n","import React from \"react\";\r\nimport NavigationsLinks from \"../navigations/NavigationsLinks\";\r\nconst AppBar = () => {\r\n  return (\r\n    <header>\r\n      <NavigationsLinks />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import React from \"react\";\r\nimport AppBar from \"./appBar/AppBar\";\r\nimport s from \"./layout.module.css\";\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <AppBar />\r\n      <hr />\r\n      <main> {children}</main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { getIsAuthenticated } from \"../../../redux/selectors/authSelectors\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...routeProps }) => {\r\n  const isAuthenticated = useSelector((state) => getIsAuthenticated(state));\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={(props) =>\r\n        isAuthenticated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { getIsAuthenticated } from \"../../../redux/selectors/authSelectors\";\r\n\r\nconst PublicRoute = ({ component: Component, ...routeProps }) => {\r\n  const isAuthenticated = useSelector((state) => getIsAuthenticated(state));\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={(props) =>\r\n        isAuthenticated && routeProps.restricted ? (\r\n          <Redirect to=\"/contacts\" />\r\n        ) : (\r\n          <Component {...props} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","import React from \"react\";\r\n\r\nimport s from \"./errorMess.module.css\";\r\n\r\nconst ErrorMess = () => {\r\n  return (\r\n    <div className={s.wornings}>\r\n      <p>Wrong login or password! </p>\r\n      <p>Try again.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMess;\r\n","import React, { Suspense, useEffect } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { refreshUser } from \"../redux/operations/authOperation\";\r\nimport { getError } from \"../redux/selectors/authSelectors\";\r\nimport Layout from \"./Layout\";\r\n\r\nimport ModalLoader from \"./loader/ModalLoader\";\r\nimport { mainRoutes } from \"../routers/mainRouts\";\r\nimport PrivateRoute from \"./navigations/privatRoute/PrivateRoute\";\r\nimport PublicRoute from \"./navigations/publicRoute/PublicRoute\";\r\nimport { Switch, useLocation } from \"react-router-dom\";\r\nimport ErrorMess from \"./errorMess/ErrorMess\";\r\n\r\nconst App = () => {\r\n  const isError = useSelector((state) => getError(state));\r\n  const dispatch = useDispatch();\r\n  let location = useLocation();\r\n  useEffect(() => {\r\n    dispatch(refreshUser());\r\n  }, []);\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n        <Suspense fallback={<ModalLoader />}>\r\n          {mainRoutes.map((route) =>\r\n            route.private ? (\r\n              <PrivateRoute key={route.path} {...route} />\r\n            ) : (\r\n              <PublicRoute key={route.path} {...route} />\r\n            )\r\n          )}\r\n        </Suspense>\r\n      </Switch>\r\n      {isError && location.pathname === \"/login\" && <ErrorMess />}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { combineReducers, createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  signUpError,\r\n  signUpRequest,\r\n  signUpSuccess,\r\n} from \"../actions/authActions\";\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  getContactsRequest,\r\n  getContactsSuccess,\r\n  getContactsError,\r\n  removeContactRequest,\r\n  removeContactSuccess,\r\n  removeContactError,\r\n  setFilter,\r\n} from \"../actions/phBookActions\";\r\n\r\nconst items = createReducer([], {\r\n  [addContactSuccess]: (state, action) => [action.payload, ...state],\r\n  [getContactsSuccess]: (state, action) => [...action.payload],\r\n  [removeContactSuccess]: (state, action) => [\r\n    ...state.filter((item) => item.id !== action.payload),\r\n  ],\r\n});\r\nconst filter = createReducer(\"\", {\r\n  [setFilter]: (state, action) => action.payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [signUpRequest]: () => true,\r\n  [signUpSuccess]: () => false,\r\n  [signUpError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [getContactsRequest]: () => true,\r\n  [getContactsSuccess]: () => false,\r\n  [getContactsError]: () => false,\r\n  [removeContactRequest]: () => true,\r\n  [removeContactSuccess]: () => false,\r\n  [removeContactError]: () => false,\r\n});\r\n\r\nconst contactsReusers = combineReducers({ items, filter });\r\n\r\nexport { contactsReusers, loading };\r\n","import { combineReducers, createReducer } from \"@reduxjs/toolkit\";\r\nimport {\r\n  logoutError,\r\n  logoutSuccess,\r\n  refreshUserError,\r\n  refreshUserSuccess,\r\n  signInError,\r\n  signInSuccess,\r\n  signUpError,\r\n  signUpSuccess,\r\n} from \"../actions/authActions\";\r\n\r\nconst initialUserState = {\r\n  name: null,\r\n  email: null,\r\n};\r\n\r\nconst user = createReducer(\r\n  {},\r\n  {\r\n    [signUpSuccess]: (state, action) => action.payload.user,\r\n    [signInSuccess]: (state, action) => action.payload.user,\r\n    [refreshUserSuccess]: (state, action) => action.payload,\r\n    [logoutSuccess]: (state, action) => initialUserState,\r\n  }\r\n);\r\n\r\nconst token = createReducer(null, {\r\n  [signUpSuccess]: (state, action) => action.payload.token,\r\n  [signInSuccess]: (state, action) => action.payload.token,\r\n  [logoutSuccess]: (state, action) => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [signUpError]: (state, action) => action.payload,\r\n  [signUpSuccess]: (state, action) => null,\r\n  [signInError]: (state, action) => action.payload,\r\n  [signInSuccess]: (state, action) => null,\r\n  [logoutError]: (state, action) => action.payload,\r\n  [logoutSuccess]: (state, action) => null,\r\n  [refreshUserError]: (state, action) => action.payload,\r\n  [refreshUserSuccess]: (state, action) => null,\r\n});\r\n\r\nconst authRedusers = combineReducers({\r\n  user,\r\n  token,\r\n  error,\r\n});\r\n\r\nexport { authRedusers };\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport { contactsReusers, loading } from \"./redusers/phBookRedusers\";\r\nimport { authRedusers } from \"./redusers/authRedusers\";\r\nimport persistReducer from \"redux-persist/es/persistReducer\";\r\nimport persistStore from \"redux-persist/es/persistStore\";\r\nimport {\r\n  FLUSH,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n  REHYDRATE,\r\n} from \"redux-persist/es/constants\";\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: persistReducer(authPersistConfig, authRedusers),\r\n  contacts: contactsReusers,\r\n  loading,\r\n});\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { persistor, store } from \"./redux/store\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst addContactRequest = createAction(\"@phBook/addRequest\");\r\nconst addContactSuccess = createAction(\"@phBook/addSuccess\");\r\nconst addContactError = createAction(\"@phBook/addErrror\");\r\n\r\nconst getContactsRequest = createAction(\"@phBook/getRequest\");\r\nconst getContactsSuccess = createAction(\"@phBook/getSuccess\");\r\nconst getContactsError = createAction(\"@phBook/getErrror\");\r\n\r\nconst removeContactRequest = createAction(\"@phBook/removeRequest\");\r\nconst removeContactSuccess = createAction(\"@phBook/removeSuccess\");\r\nconst removeContactError = createAction(\"@phBook/removeErrror\");\r\n\r\nconst setFilter = createAction(\"@phBook/setFilter\");\r\n\r\nexport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  getContactsRequest,\r\n  getContactsSuccess,\r\n  getContactsError,\r\n  removeContactRequest,\r\n  removeContactSuccess,\r\n  removeContactError,\r\n  setFilter,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navList\":\"navigationsLinks_navList__2AMC-\",\"navItem\":\"navigationsLinks_navItem__O9DSU\",\"navLink\":\"navigationsLinks_navLink__3BW40\",\"activeNavLink\":\"navigationsLinks_activeNavLink__1v5sz\"};","const getIsAuthenticated = (state) => !!state.auth.token;\r\nconst getError = (state) => !!state.auth.error;\r\n\r\nexport { getIsAuthenticated, getError };\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com/\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unSet() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst postSignUpUser = async (user) => {\r\n  try {\r\n    return await axios.post(\"/users/signup\", user).then(({ data }) => {\r\n      token.set(data.token);\r\n      return data;\r\n    });\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst postSignInUser = async (user) => {\r\n  try {\r\n    return await axios.post(\"/users/login\", user).then(({ data }) => {\r\n      token.set(data.token);\r\n      return data;\r\n    });\r\n  } catch (error) {\r\n    console.log(\"error\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst postLogoutUser = async () => {\r\n  try {\r\n    return await axios.post(\"/users/logout\").then((data) => {\r\n      token.unSet(data);\r\n    });\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getRefreshUser = async (persistedToken) => {\r\n  token.set(persistedToken);\r\n  try {\r\n    return await axios.get(\"/users/current\").then(({ data }) => {\r\n      return data;\r\n    });\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst postContacts = async (contacts) => {\r\n  try {\r\n    return await axios.post(\"/contacts\", contacts).then(({ data }) => data);\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getContacts = async () => {\r\n  try {\r\n    return await axios.get(\"/contacts\").then(({ data }) => data);\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst removeContact = async (id) => {\r\n  try {\r\n    return await axios.delete(`/contacts/${id}`);\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport {\r\n  postContacts,\r\n  getContacts,\r\n  removeContact,\r\n  postSignUpUser,\r\n  postSignInUser,\r\n  postLogoutUser,\r\n  getRefreshUser,\r\n};\r\n","import {\r\n  postSignInUser,\r\n  postSignUpUser,\r\n  postLogoutUser,\r\n  getRefreshUser,\r\n} from \"../../servises/fatchToDB\";\r\nimport {\r\n  logoutError,\r\n  logoutSuccess,\r\n  logoautRequest,\r\n  signInError,\r\n  signInRequest,\r\n  signInSuccess,\r\n  signUpError,\r\n  signUpRequest,\r\n  signUpSuccess,\r\n  refreshUserRequest,\r\n  refreshUserSuccess,\r\n  refreshUserError,\r\n} from \"../actions/authActions\";\r\n\r\nconst signUpUser = (user) => (dispatch) => {\r\n  dispatch(signUpRequest());\r\n\r\n  postSignUpUser(user)\r\n    .then((data) => {\r\n      dispatch(signUpSuccess(data));\r\n    })\r\n    .catch((error) => dispatch(signUpError(error)));\r\n};\r\n\r\nconst signInUser = (user) => (dispatch) => {\r\n  dispatch(signInRequest());\r\n\r\n  postSignInUser(user)\r\n    .then((data) => {\r\n      dispatch(signInSuccess(data));\r\n    })\r\n    .catch((error) => {\r\n      dispatch(signInError(error));\r\n    });\r\n};\r\n\r\nconst logoutUser = () => (dispatch) => {\r\n  dispatch(logoautRequest());\r\n\r\n  postLogoutUser()\r\n    .then(() => {\r\n      dispatch(logoutSuccess());\r\n    })\r\n    .catch((error) => dispatch(logoutError(error)));\r\n};\r\n\r\nconst refreshUser = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (persistedToken) {\r\n    dispatch(refreshUserRequest());\r\n\r\n    getRefreshUser(persistedToken)\r\n      .then((data) => {\r\n        dispatch(refreshUserSuccess(data));\r\n      })\r\n      .catch((error) => dispatch(refreshUserError(error)));\r\n  }\r\n};\r\nexport { signUpUser, signInUser, logoutUser, refreshUser };\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst signUpRequest = createAction(\"@phBook/signUpRequest\");\r\nconst signUpSuccess = createAction(\"@phBook/signUpSuccess\");\r\nconst signUpError = createAction(\"@phBook/signUpErrror\");\r\n\r\nconst signInRequest = createAction(\"@phBook/signInRequest\");\r\nconst signInSuccess = createAction(\"@phBook/signInSuccess\");\r\nconst signInError = createAction(\"@phBook/signInErrror\");\r\n\r\nconst logoautRequest = createAction(\"@phBook/logoauRequest\");\r\nconst logoutSuccess = createAction(\"@phBook/logoauSuccess\");\r\nconst logoutError = createAction(\"@phBook/logoauErrror\");\r\n\r\nconst refreshUserRequest = createAction(\"@phBook/refreshUserRequest\");\r\nconst refreshUserSuccess = createAction(\"@phBook/refreshUserSuccess\");\r\nconst refreshUserError = createAction(\"@phBook/refreshUserErrror\");\r\n\r\nexport {\r\n  signUpRequest,\r\n  signUpSuccess,\r\n  signUpError,\r\n  signInRequest,\r\n  signInSuccess,\r\n  signInError,\r\n  logoautRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  refreshUserRequest,\r\n  refreshUserSuccess,\r\n  refreshUserError,\r\n};\r\n","import React from \"react\";\r\nimport LoaderSpinner from \"react-loader-spinner\";\r\nimport Styles from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <LoaderSpinner\r\n      className={Styles.loader}\r\n      type=\"ThreeDots\"\r\n      color=\"#3f51b5\"\r\n      height={100}\r\n      width={100}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport Loader from \"./Loader\";\r\nimport s from \"./ModalLoader.module.css\";\r\nconst ModalLoader = () => {\r\n  return (\r\n    <div className={s.modalLoader}>\r\n      <Loader />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalLoader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"layout_wrapper__JAR9N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__ECfkl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalLoader\":\"ModalLoader_modalLoader__3JlhE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wornings\":\"errorMess_wornings__fqAFu\"};"],"sourceRoot":""}