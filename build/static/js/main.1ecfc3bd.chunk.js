(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{109:function(t,n,e){"use strict";e.r(n);var r,c,o,a,u,i=e(0),s=e(27),b=e.n(s),j=(e(63),e(18)),f=e(17),l=e(37),p=e(22),O=e(21),d=[{path:"/",name:"Home",exact:!0,component:Object(i.lazy)((function(){return e.e(7).then(e.bind(null,127))})),private:!1,restricted:!1},{path:"/register",name:"Register",exact:!0,component:Object(i.lazy)((function(){return e.e(5).then(e.bind(null,128))})),private:!1,restricted:!0},{path:"/login",name:"Login",exact:!0,component:Object(i.lazy)((function(){return e.e(4).then(e.bind(null,129))})),private:!1,restricted:!0},{path:"/contacts",name:"Contacts",exact:!0,component:Object(i.lazy)((function(){return Promise.all([e.e(6),e.e(3)]).then(e.bind(null,130))})),private:!0,restricted:!0}],h=e(20),v=e.n(h),k=e(1),x=function(){var t=Object(f.c)((function(t){return Object(p.b)(t)}));return Object(k.jsx)("ul",{className:v.a.navList,children:t?d.map((function(t){return t.private&t.restricted||!t.private&!t.restricted?Object(k.jsx)("li",{className:v.a.navItem,children:Object(k.jsx)(O.b,{to:t.path,exact:t.exact,className:v.a.navLink,activeClassName:v.a.activeNavLink,children:t.name})},t.path):void 0})):d.map((function(t){if(!t.private)return Object(k.jsx)("li",{className:v.a.navItem,children:Object(k.jsx)(O.b,{to:t.path,exact:t.exact,className:v.a.navLink,activeClassName:v.a.activeNavLink,children:t.name})},t.path)}))})},m=function(){return Object(k.jsx)("header",{children:Object(k.jsx)(x,{})})},g=e(50),w=e.n(g),y=function(t){var n=t.children;return Object(k.jsxs)("div",{className:w.a.wrapper,children:[Object(k.jsx)(m,{}),Object(k.jsx)("hr",{}),Object(k.jsxs)("main",{children:[" ",n]})]})},B=e(48),_=e(30),L=e(8),N=function(t){var n=t.component,e=Object(_.a)(t,["component"]),r=Object(f.c)((function(t){return Object(p.b)(t)}));return Object(k.jsx)(L.b,Object(j.a)(Object(j.a)({},e),{},{render:function(t){return r?Object(k.jsx)(n,Object(j.a)({},t)):Object(k.jsx)(L.a,{to:"/login"})}}))},E=function(t){var n=t.component,e=Object(_.a)(t,["component"]),r=Object(f.c)((function(t){return Object(p.b)(t)}));return Object(k.jsx)(L.b,Object(j.a)(Object(j.a)({},e),{},{render:function(t){return r&&e.restricted?Object(k.jsx)(L.a,{to:"/contacts"}):Object(k.jsx)(n,Object(j.a)({},t))}}))},R=e(54),S=e.n(R),q=function(){return Object(k.jsxs)("div",{className:S.a.wornings,children:[Object(k.jsx)("p",{children:"Wrong login or password! "}),Object(k.jsx)("p",{children:"Try again."})]})},z=function(){var t=Object(f.c)((function(t){return Object(p.a)(t)})),n=Object(f.b)(),e=Object(L.h)();return Object(i.useEffect)((function(){n(Object(l.b)())}),[]),Object(k.jsxs)(y,{children:[Object(k.jsx)(L.d,{children:Object(k.jsx)(i.Suspense,{fallback:Object(k.jsx)(B.a,{}),children:d.map((function(t){return t.private?Object(k.jsx)(N,Object(j.a)({},t),t.path):Object(k.jsx)(E,Object(j.a)({},t),t.path)}))})}),t&&"/login"===e.pathname&&Object(k.jsx)(q,{})]})},I=e(3),U=e(9),A=e(55),C=e.n(A),J=e(2),M=e(31),D=e(4),F=e(12),T=Object(I.c)([],(r={},Object(J.a)(r,F.c,(function(t,n){return[n.payload].concat(Object(M.a)(t))})),Object(J.a)(r,F.f,(function(t,n){return Object(M.a)(n.payload)})),Object(J.a)(r,F.i,(function(t,n){return Object(M.a)(t.filter((function(t){return t.id!==n.payload})))})),r)),W=Object(I.c)("",Object(J.a)({},F.j,(function(t,n){return n.payload}))),H=Object(I.c)(!1,(c={},Object(J.a)(c,D.k,(function(){return!0})),Object(J.a)(c,D.l,(function(){return!1})),Object(J.a)(c,D.j,(function(){return!1})),Object(J.a)(c,F.b,(function(){return!0})),Object(J.a)(c,F.c,(function(){return!1})),Object(J.a)(c,F.a,(function(){return!1})),Object(J.a)(c,F.e,(function(){return!0})),Object(J.a)(c,F.f,(function(){return!1})),Object(J.a)(c,F.d,(function(){return!1})),Object(J.a)(c,F.h,(function(){return!0})),Object(J.a)(c,F.i,(function(){return!1})),Object(J.a)(c,F.g,(function(){return!1})),c)),P=Object(U.c)({items:T,filter:W}),G={name:null,email:null},K=Object(I.c)({},(o={},Object(J.a)(o,D.l,(function(t,n){return n.payload.user})),Object(J.a)(o,D.i,(function(t,n){return n.payload.user})),Object(J.a)(o,D.f,(function(t,n){return n.payload})),Object(J.a)(o,D.c,(function(t,n){return G})),o)),Q=Object(I.c)(null,(a={},Object(J.a)(a,D.l,(function(t,n){return n.payload.token})),Object(J.a)(a,D.i,(function(t,n){return n.payload.token})),Object(J.a)(a,D.c,(function(t,n){return null})),a)),V=Object(I.c)(null,(u={},Object(J.a)(u,D.j,(function(t,n){return n.payload})),Object(J.a)(u,D.l,(function(t,n){return null})),Object(J.a)(u,D.g,(function(t,n){return n.payload})),Object(J.a)(u,D.i,(function(t,n){return null})),Object(J.a)(u,D.b,(function(t,n){return n.payload})),Object(J.a)(u,D.c,(function(t,n){return null})),Object(J.a)(u,D.d,(function(t,n){return n.payload})),Object(J.a)(u,D.f,(function(t,n){return null})),u)),X=Object(U.c)({user:K,token:Q,error:V}),Y=e(58),Z=e(56),$=e(5),tt={key:"auth",storage:C.a,whitelist:["token"]},nt=Object(U.c)({auth:Object(Y.a)(tt,X),contacts:P,loading:H}),et=Object(I.a)({reducer:nt,middleware:Object(I.d)({serializableCheck:{ignoredActions:[$.b,$.h,$.d,$.e,$.f,$.g]}})}),rt=Object(Z.a)(et),ct=e(57);b.a.render(Object(k.jsx)(f.a,{store:et,children:Object(k.jsx)(ct.a,{loading:null,persistor:rt,children:Object(k.jsx)(O.a,{children:Object(k.jsx)(z,{})})})}),document.getElementById("root"))},12:function(t,n,e){"use strict";e.d(n,"b",(function(){return c})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return a})),e.d(n,"e",(function(){return u})),e.d(n,"f",(function(){return i})),e.d(n,"d",(function(){return s})),e.d(n,"h",(function(){return b})),e.d(n,"i",(function(){return j})),e.d(n,"g",(function(){return f})),e.d(n,"j",(function(){return l}));var r=e(3),c=Object(r.b)("@phBook/addRequest"),o=Object(r.b)("@phBook/addSuccess"),a=Object(r.b)("@phBook/addErrror"),u=Object(r.b)("@phBook/getRequest"),i=Object(r.b)("@phBook/getSuccess"),s=Object(r.b)("@phBook/getErrror"),b=Object(r.b)("@phBook/removeRequest"),j=Object(r.b)("@phBook/removeSuccess"),f=Object(r.b)("@phBook/removeErrror"),l=Object(r.b)("@phBook/setFilter")},20:function(t,n,e){t.exports={navList:"navigationsLinks_navList__2AMC-",navItem:"navigationsLinks_navItem__O9DSU",navLink:"navigationsLinks_navLink__3BW40",activeNavLink:"navigationsLinks_activeNavLink__1v5sz"}},22:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return c}));var r=function(t){return!!t.auth.token},c=function(t){return!!t.auth.error}},25:function(t,n,e){"use strict";e.d(n,"c",(function(){return p})),e.d(n,"a",(function(){return O})),e.d(n,"g",(function(){return d})),e.d(n,"f",(function(){return b})),e.d(n,"e",(function(){return j})),e.d(n,"d",(function(){return f})),e.d(n,"b",(function(){return l}));var r=e(10),c=e.n(r),o=e(23),a=e(19),u=e.n(a);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var i=function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},s=function(){u.a.defaults.headers.common.Authorization=""},b=function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/users/signup",n).then((function(t){var n=t.data;return i(n.token),n}));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(n){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/users/login",n).then((function(t){var n=t.data;return i(n.token),n}));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("error",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/users/logout").then((function(t){s(t)}));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(n),t.prev=1,t.next=4,u.a.get("/users/current").then((function(t){return t.data}));case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),console.log("error",{error:t.t0}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(n){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/contacts",n).then((function(t){return t.data}));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(n){return t.apply(this,arguments)}}(),O=function(){var t=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/contacts").then((function(t){return t.data}));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.delete("/contacts/".concat(n));case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("error",{error:t.t0}),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(n){return t.apply(this,arguments)}}()},37:function(t,n,e){"use strict";e.d(n,"d",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return i}));var r=e(25),c=e(4),o=function(t){return function(n){n(Object(c.k)()),Object(r.f)(t).then((function(t){n(Object(c.l)(t))})).catch((function(t){return n(Object(c.j)(t))}))}},a=function(t){return function(n){n(Object(c.h)()),Object(r.e)(t).then((function(t){n(Object(c.i)(t))})).catch((function(t){n(Object(c.g)(t))}))}},u=function(){return function(t){t(Object(c.a)()),Object(r.d)().then((function(){t(Object(c.c)())})).catch((function(n){return t(Object(c.b)(n))}))}},i=function(){return function(t,n){var e=n().auth.token;e&&(t(Object(c.e)()),Object(r.b)(e).then((function(n){t(Object(c.f)(n))})).catch((function(n){return t(Object(c.d)(n))})))}}},4:function(t,n,e){"use strict";e.d(n,"k",(function(){return c})),e.d(n,"l",(function(){return o})),e.d(n,"j",(function(){return a})),e.d(n,"h",(function(){return u})),e.d(n,"i",(function(){return i})),e.d(n,"g",(function(){return s})),e.d(n,"a",(function(){return b})),e.d(n,"c",(function(){return j})),e.d(n,"b",(function(){return f})),e.d(n,"e",(function(){return l})),e.d(n,"f",(function(){return p})),e.d(n,"d",(function(){return O}));var r=e(3),c=Object(r.b)("@phBook/signUpRequest"),o=Object(r.b)("@phBook/signUpSuccess"),a=Object(r.b)("@phBook/signUpErrror"),u=Object(r.b)("@phBook/signInRequest"),i=Object(r.b)("@phBook/signInSuccess"),s=Object(r.b)("@phBook/signInErrror"),b=Object(r.b)("@phBook/logoauRequest"),j=Object(r.b)("@phBook/logoauSuccess"),f=Object(r.b)("@phBook/logoauErrror"),l=Object(r.b)("@phBook/refreshUserRequest"),p=Object(r.b)("@phBook/refreshUserSuccess"),O=Object(r.b)("@phBook/refreshUserErrror")},48:function(t,n,e){"use strict";e(0);var r=e(51),c=e.n(r),o=e(52),a=e.n(o),u=e(1),i=function(){return Object(u.jsx)(c.a,{className:a.a.loader,type:"ThreeDots",color:"#3f51b5",height:100,width:100})},s=e(53),b=e.n(s);n.a=function(){return Object(u.jsx)("div",{className:b.a.modalLoader,children:Object(u.jsx)(i,{})})}},50:function(t,n,e){t.exports={wrapper:"layout_wrapper__JAR9N"}},52:function(t,n,e){t.exports={loader:"Loader_loader__ECfkl"}},53:function(t,n,e){t.exports={modalLoader:"ModalLoader_modalLoader__3JlhE"}},54:function(t,n,e){t.exports={wornings:"errorMess_wornings__fqAFu"}},63:function(t,n,e){}},[[109,1,2]]]);
//# sourceMappingURL=main.1ecfc3bd.chunk.js.map